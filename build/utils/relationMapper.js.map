{"version":3,"sources":["../../src/utils/relationMapper.js"],"names":["getObjectWithUsers","object","toJSON","users","getUsers","userObject","user","subjects","getSubjects","role","getRole","labels","getLabels","eventObject","event","start","Date","toISOString","owner","getUser","label","getLabel","subject","getSubject","model","map"],"mappings":"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","sourcesContent":["import { getDates } from './date';\n\nexport const getObjectWithUsers = (object) => ({\n  ...object.toJSON(),\n  ...getDates(object),\n  users: () => getUsers(object),\n});\n\nexport const userObject = (user) => ({\n  ...user.toJSON(),\n  ...getDates(user),\n  subjects: () => getSubjects(user),\n  role: () => getRole(user),\n  labels: () => getLabels(user),\n});\n\nexport const eventObject = (event) => ({\n  ...event.toJSON(),\n  ...getDates(event),\n  start: new Date(event.toJSON().start).toISOString(),\n  owner: () => getUser(event),\n  label: () => getLabel(event),\n  subject: () => getSubject(event),\n});\n\nconst getLabel = async (model) => {\n  const label = await model.getLabel();\n  return label ? getObjectWithUsers(label) : null;\n};\n\nconst getSubject = async (model) => {\n  const subject = await model.getSubject();\n  return subject ? getObjectWithUsers(subject) : null;\n};\n\nconst getUser = async (model) => {\n  const user = await model.getUser();\n  return user ? userObject(user) : null;\n};\n\nexport const getLabels = async (model) => {\n  const labels = await model.getLabels();\n  return labels.map(getObjectWithUsers);\n};\n\nexport const getRole = async (model) => {\n  const role = await model.getRole();\n  return role ? getObjectWithUsers(role) : null;\n};\n\nexport const getSubjects = async (model) => {\n  const subjects = await model.getSubjects();\n  return subjects.map(getObjectWithUsers);\n};\n\nexport const getUsers = async (model) => {\n  const users = await model.getUsers();\n  return users.map(userObject);\n};\n"],"file":"relationMapper.js"}